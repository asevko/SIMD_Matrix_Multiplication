<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Вариант 3</title>
    <link rel="stylesheet" href="style.css">
    <script src="generation.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load("visualization", "1", {packages:["linechart"]});
        function drawChart() {
            let statements = getStatements();
            let DATA = [];
            DATA[0] = ['Ранг задачи'];
            for(let i = 0; i < statements.length; i++){
                DATA[0].push('n = ' + statements[i][0].n);
            }
            console.log("data 0", DATA[0]);
            let num = 1, k = 0;
            for (let i = 0; i < statements[0].length; i++) {
                let line = [];
                //line.push(y.toString());
                //line.push(statements[k][i].r.toString());
                while (k < statements.length) {
                    line.push(statements[k][i].Ky_r);
                    k++;
                }
                DATA[num] = line;
                if (i != statements[0].length - 1) {
                    num++;
                }
                k = 0;
            }
            console.log(statements);
            console.log(DATA);

            let data = google.visualization.arrayToDataTable(DATA);
            let chart = new google.visualization.LineChart(document.getElementById('graphics'));
            chart.draw(data, {width: 500, height: 350, legend: 'right', title: 'Ky(r)'});

//            let chart = new google.visualization.LineChart(document.getElementById('graphics'));
//            chart.draw(data, {width: 500, height: 350, legend: 'bottom', title: 'Ky(r)'});
//            chart = new google.visualization.LineChart(document.getElementById('graphics1'));
//            chart.draw(data, {width: 500, height: 350, legend: 'bottom', title: 'Company Performance'});
        }

        $('html, .btn').click(function() {
            drawChart();
        });
    </script>
</head>
<body>
    <header class="header">
      <h1>
        Реализация модели умножения матриц на ОКМД архитектуре
      </h1>
    </header>
    <div id="task">
        <p>
        <i><b>Дано:</b></i>
            сгенерированые матрицы <b><i>A</i><sub>p<sub id="x">x</sub>m</sub></b>
            и <b><i>В</i><sub>m<sub id="x">x</sub>q</sub></b>.
        </p>
        <p>
            <i><b>Получить:</b></i>
            получить матрицу <b><i>C</i><sub>p<sub id="x">x</sub>q</sub></b>.
            <b><i>C</i><sub>ij</sub> = &sum;<sub>k</sub> d<sub>kij</sub></b>
            <p id="Dkij">
                <b>
                    d<sub>kij</sub> = ((a<sub>ik</sub>)<sup>2</sup> &gt; |a<sub>ik</sub> - b<sub>kj</sub>|) ?
                    (a<sub>ik</sub>)<sup>2</sup> - |a<sub>ik</sub> - b<sub>kj</sub>| :
                    (b<sub>kj</sub> == 0 ? (a<sub>ik</sub>)<sup>2</sup> :
                    (a<sub>ik</sub>)<sup>2</sup> &frasl; |b<sub>kj</sub>|)
                </b>
            </p>
    </div>
    <div id="time_table">
        <table border="1" cellspacing="0">
            <tr>
                <th>Операция</th>
                <th>Время выполнения</th>
            </tr>
            <tr>
                <th>Сложение</th>
                <th><label for="t_s"></label><input type="text" id="t_s" required></th>
            </tr>
            <tr>
                <th>Разность</th>
                <th><label for="t_r"></label><input type="text" id="t_r" required></th>
            </tr>
            <tr>
                <th>Умножение</th>
                <th><label for="t_y"></label><input type="text" id="t_y" required></th>
            </tr>
            <tr>
                <th>Деление</th>
                <th><label for="t_d"></label><input type="text" id="t_d" required></th>
            </tr>
            <tr>
                <th>Сравнение</th>
                <th><label for="t_c"></label><input type="text" id="t_c" required></th>
            </tr>
            <tr>
                <th>Модуль</th>
                <th><label for="t_m"></label><input type="text" id="t_m" required></th>
            </tr>
        </table>
    </div>
    <div id="params">
        <table>
            <tr>
                <th>Размерности матриц</th>
            </tr>
            <tr>
                <th>
        p = <label for="size_p"></label><input type="text" id="size_p" required min="1"><br>
            <div id="input_m">
                m = <label for="size_m"></label><input type="text" id="size_m" required min="1">
            </div>
            q = <label for="size_q"></label><input type="text" id="size_q" required min="1">
                </th>
            </tr>
        </table>
    </div>
    <div id="buttons">
        <button type="submit" onclick="run()" class="btn">Рассчиать</button>
        <button type="reset" onclick="clean()">Очистить</button>
    </div>
    <hr />
<div id="output"></div>
    <hr />
<div id="graphics"></div>
<div id="graphics1"></div>
</body>
</html>